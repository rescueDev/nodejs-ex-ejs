<%- include('includes/head.ejs') %> <%- include('includes/header.ejs')%>

<div class="container">
      <% if(products.length > 0) { %>
      <div class="row">
        <div class="col-12 mx-auto">
          <div class="card-header">
            <h2>Products</h2>
          </div>
          <div class="col-12 d-flex justify-content-between">

            <% for (let product of products ) { %>
            <div class="card col-4">
              <div class="col-12">
                <h3><%= product.name %></h3>
                <h3><%= product.price %> $</h3>
                <h3><%= product.category %></h3>
                <h3>User ID: <%= product.userId %></h3>
                <a class="btn btn-success" href="/product/<%= product.id %>" class="btn btn-primary">Show</a>
                <a  href="/products/edit/<%= product.id %>" class="btn btn-warning">Edit</a>
                <form action="/products/delete" method="post">
                  <input type="hidden" name="productId" value="<%= product.id %>">
                  <button  type="submit" class="btn btn-danger">Delete</button>
                </form>
                <form  action="/add-to-cart" method="post">
                  <input type="hidden" name="productId" value="<%= product.id %>">
                  <button type="submit" class="btn btn-primary">Add To Cart</button>
                </form>
              </div>
            </div>
            <%}%>

          </div>
        </div>
      </div>
      <% } else { %>
      <h1>No products yet, please add one</h1>
      <% }%>
    </div>
  </body>
</html>